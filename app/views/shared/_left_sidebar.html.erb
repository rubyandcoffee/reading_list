<div id="left-sidebar">
  <div id="new-book">
    <%= link_to new_book_path, class: 'btn btn-primary' do %>
      <i class="fa-solid fa-plus"></i> Add Book
    <% end %>
  </div>

  <div id="genres">
    <h3>Genres</h3>
    <% Genre.all.order(:name).each do |genre| %>
      <div class="clearfix no-decoration">
        <a class="float-start" data-bs-toggle="collapse" href="#collapseGenre<%= genre.id %>">
          <%= genre.name %>
          <span class="badge rounded-pill text-bg-primary"><%= genre.books.count %></span>
        </a>
        <div class="collapse" id="collapseGenre<%= genre.id %>">
          <%= link_to genre_path(genre), class: 'float-end', data: { remote: true, turbo_method: :delete, turbo_confirm: "Are you sure you wish to delete #{genre.name}?" } do %>
            <i class="fa-solid fa-trash"></i>
          <% end %>
          <a href="#" class="float-end" data-bs-toggle="modal" data-bs-target="#genreModal<%= genre.id %>"><i class="fa-regular fa-pen-to-square"></i></a>
        </div>
      </div>
      <%= render 'books/modals/genres/genre_modal', genre: genre, id: "genreModal#{genre.id}" %>
    <% end %>
  </div>

  <div id="authors">
    <h3>Authors</h3>
    <%= link_to 'View authors', authors_path %>
  </div>
</div>